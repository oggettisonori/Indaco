<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <title>Indaco</title>
  <Script type=text/javascript src="script/cookieManager.js"></Script>
<script type=text/javascript src="script/jquery-2.1.3.min.js"></script>
        
    <style>
        
       
        #container {
            margin: 5%;
            width: 80%;
            padding: 5%;
            top: 5%;
            background-color: transparent;
        }
        .button {
            display: inline-grid;
            width: 20%;
            height: 20%;
            margin: 2%;
        }
        .button.active {
            opacity: 1;
            animation: shake .2s ease-in-out;
        }
        @keyframes shake {
            0% {
                transform: translateX(0);
                transform: translateY(0);
                transform: scale(1, 1);
            }
            20% {
                transform: translateX(-10px);
                transform: translateY(-100px);
                transform: scale(0.9, 0.9);
            }
            40% {
                transform: translateX(10px);
                transform: translateY(0px);
                transform: scale(1.1, 1.1);
            }
            60% {
                transform: translateX(-10px);
                transform: translateY(-50px);
                transform: scale(0.9, 0.9);
            }
            80% {
                transform: translateX(10px);
                transform: translateY(50px);
                transform: scale(1, 1);
            }
            100% {
                transform: translateX(0);
                transform: translateY(0);
            }
        }
      /*  @media screen and (orientation:portrait) {
  #container {
    -ms-transform: rotate(-90deg); /* IE 9 */
    -webkit-transform: rotate(-90deg); /* Chrome, Safari, Opera */
    transform: rotate(-90deg);
    width: 90% ;
    height: 90%;*/
    
   
  }
}
    </style>
</head>
	<body>    

 <section id="wrapper">
<article>




<div class="showresult">
			<h2>Screen Orientation</h2>
			<p style="color:blue"> Try the demo to see if your browser supports this feature </p>


      <h1>Screen Orientation API</h1>

      <span id="so-unsupported" class="api-support hidden">API not supported</span>
      <span id="soo-supported" class="api-support hidden">Old API version supported</span>

      <div id="so-results">
         <ul>
            <li>
               The orientation of the device is <span id="orientation" class="value">landscape-primary</span>.
            </li>
            <li class="new-api">
               The angle of the device is <span id="angle" class="value">0</span>.
            </li>
         </ul>

         <form>
            <label for="orientation-type">Lock the device in:</label>
            <select id="orientation-type">
               <option value="any">any</option>
               <option value="natural">natural</option>
               <option value="portrait">portrait</option>
               <option value="landscape">landscape</option>
               <option value="portrait-primary">portrait-primary</option>
               <option value="portrait-secondary">portrait-secondary</option>
               <option value="landscape-primary">landscape-primary</option>
               <option value="landscape-secondary">landscape-secondary</option>
            </select>
            <br>
            <input class="button-demo" id="lock-button" type="submit" value="Lock!">
            <input class="button-demo" id="unlock-button" type="reset" value="Unlock!">
         </form>
      </div>

		
		
			<p><label id="test"><b>Test Result:</b></label></p>
			<p id="status"></p>
</div>


	




<script>
         var prefix = 'orientation' in screen ? '' :
                      'mozOrientation' in screen ? 'moz' :
                      'msOrientation' in screen ? 'ms' :
                      null;
         if (prefix === null) {
            document.getElementById('so-unsupported').classList.remove('hidden');
            ['lock-button', 'unlock-button'].forEach(function(elementId) {
               document.getElementById(elementId).setAttribute('disabled', 'disabled');
            });
         } else {
            var select = document.getElementById('orientation-type');
            var orientationElem = document.getElementById('orientation');
            var onChangeHandler;
            var Fullscreen = {
               launch: function(element) {
                  if(element.requestFullscreen) {
                     element.requestFullscreen();
                  } else if(element.mozRequestFullScreen) {
                     element.mozRequestFullScreen();
                  } else if(element.webkitRequestFullscreen) {
                     element.webkitRequestFullscreen();
                  } else if(element.msRequestFullscreen) {
                     element.msRequestFullscreen();
                  }
               },
               exit: function() {
                  if(document.exitFullscreen) {
                     document.exitFullscreen();
                  } else if(document.mozCancelFullScreen) {
                     document.mozCancelFullScreen();
                  } else if(document.webkitExitFullscreen) {
                     document.webkitExitFullscreen();
                  } else if (document.msExitFullscreen) {
                     document.msExitFullscreen();
                  }
               }
            };
            // Determine what version of the API is implemented
            if ('orientation' in screen && 'angle' in screen.orientation) {
               // The browser supports the new version of the API
               // Show the properties supported by the new version
               var newProperties = document.getElementsByClassName('new-api');
               for(var i = 0; i < newProperties.length; i++) {
                  newProperties[i].classList.remove('hidden');
               }
               document.getElementById('lock-button').addEventListener('click', function (event) {
                  event.preventDefault();
                  Fullscreen.launch(document.documentElement);
                  screen.orientation.lock(select.value);
               });
               document.getElementById('unlock-button').addEventListener('click', function (event) {
                  event.preventDefault();
                  Fullscreen.exit();
                  screen.orientation.unlock();
               });
               var angleElem = document.getElementById('angle');
               onChangeHandler = function() {
                  orientationElem.textContent = screen.orientation.type;
                  angleElem.textContent = screen.orientation.angle;
               };
               screen.orientation.addEventListener('change', onChangeHandler);
               onChangeHandler();
            } else {
               // The browser supports the old version of the API, so the user is informed of that
               document.getElementById('soo-supported').classList.remove('hidden');
               // Remove the options that aren't available in the old version of the API
               var unavailableOptions = [
                  document.querySelector('#orientation-type option[value="any"]'),
                  document.querySelector('#orientation-type option[value="natural"]')
               ];
               for(var i = 0; i < unavailableOptions.length; i++) {
                  unavailableOptions[i].parentElement.removeChild(unavailableOptions[i]);
               }
               document.getElementById('lock-button').addEventListener('click', function (event) {
                  event.preventDefault();
                  Fullscreen.launch(document.documentElement);
                  setTimeout(function () {
                     screen[prefix + (prefix === '' ? 'l' : 'L') + 'ockOrientation'](select.value);
                  }, 1);
               });
               document.getElementById('unlock-button').addEventListener('click', function (event) {
                  event.preventDefault();
                  screen[prefix + (prefix === '' ? 'u' : 'U') + 'nlockOrientation']();
                  Fullscreen.exit();
               });
               onChangeHandler = function() {
                  var orientationProperty = prefix + (prefix === '' ? 'o' : 'O') + 'rientation';
                  orientationElem.textContent = screen[orientationProperty];
               };
               screen.addEventListener(prefix + 'orientationchange', onChangeHandler);
               onChangeHandler();
            }
         }
      </script>


<script type="text/javascript">	
	
    var title = "Screen Orientation";
	var title_comment = title+"-comment";
	var test_result = document.getElementById("status");
	
	try{
		var prefix = 'orientation' in screen ? '' :
                      'mozOrientation' in screen ? 'moz' :
                      'msOrientation' in screen ? 'ms' :
                      null;
    
    	
    	if(prefix!=null){
		
			test_result.className = "success";
			test_result.innerHTML ='Your browser supports Screen Orientation!';
			//addCookie(title,"y",1)
		}
		else{
			test_result.innerHTML ='Your browser does not support Screen Orientation';
			test_result.className = "fail";
			//addCookie(title,"n",1)
		}
	  	
	} 
	catch(ex){
		test_result.innerHTML ='Your browser does not support Screen Orientation';
		test_result.className = "fail";
		//addCookie(title,"n",1)
	}
	//addCookie(title_comment," ",1);
	//JSONParser(title,"jsapi");
	
</script>   
    
    
    
    
    
    
    
    
    
    

    
    <div id="container">
        
        
        
        <img class="button"   data-sound="audio/5.mp3" src="svg/5.svg" alt="Sol" height="100%" width="100%">
        <img class="button"   data-sound="audio/6.mp3" src="svg/6.svg" alt="La" height="100%" width="100%">
        <img class="button"   data-sound="audio/7.mp3" src="svg/7.svg" alt="Si"height="100%" width="100%">
        <img class="button"   data-sound="audio/8.mp3" src="svg/8.svg" alt="Do"height="100%" width="100%">
        <img class="button"   data-sound="audio/1.mp3" src="svg/1.svg" alt="Do"height="100%" width="100%">
        <img class="button"   data-sound="audio/2.mp3" src="svg/2.svg" alt="Re"height="100%" width="100%">
        <img class="button"   data-sound="audio/3.mp3" src="svg/3.svg" alt="Mi"height="100%" width="100%">
        <img class="button"   data-sound="audio/4.mp3" src="svg/4.svg" alt="Fa"height="100%" width="100%">
        
    </div>



    <script>
        
    
      
        
        
        (function() {
            var log = console.log.bind(console),
                deviceInfoInputs = document.getElementById('inputs'),
                deviceInfoOutputs = document.getElementById('outputs'),
                midi;
            window.AudioContext = window.AudioContext||window.webkitAudioContext;
            var context = new AudioContext();
            var activeNotes = [];
            var btnBox = document.getElementById('content'),
                btn = document.getElementsByClassName('button');
            var data, cmd, channel, type, note, velocity;
            if (navigator.requestMIDIAccess) {
                navigator.requestMIDIAccess({
                    sysex: false
                }).then(onMIDISuccess, onMIDIFailure);
            } else {
                alert("No MIDI support in your browser, please use Chrome!");
            }
            for (var i = 0; i < btn.length; i++) {
    btn[i].addEventListener('mousedown', clickPlayOn);
    btn[i].addEventListener('mouseup', clickPlayOff);
    btn[i].addEventListener('touchstart', clickPlayOn);
    btn[i].addEventListener('touchend', clickPlayOff);
}
            
             document.getElementById('container').oncontextmenu = function(event) {
    event.preventDefault();
    event.stopPropagation(); // not necessary in my case, could leave in case stopImmediateProp isn't available? 
    event.stopImmediatePropagation();
    return false;
};  
            
            
            
            
            for (var i = 0; i < btn.length; i++) {
                addAudioProperties(btn[i]);
            }
            var sampleMap = {
                key64: 1,
                key65: 2,
                key66: 3,
                key67: 4,
                key60: 5,
                key61: 6,
                key62: 7,
                key63: 8,
            };
            function clickPlayOn(e) {
    e.target.classList.add('active');
    e.target.play();
}
function clickPlayOff(e) {
    e.target.classList.remove('active');
}
                       
  
            
            
            
            function onMIDISuccess(midiAccess) {
                midi = midiAccess;
                var inputs = midi.inputs.values();
                for (var input = inputs.next(); input && !input.done; input = inputs.next()) {
                    input.value.onmidimessage = onMIDIMessage;
                    listInputs(input);
                }
                midi.onstatechange = onStateChange;
            }
            function onMIDIMessage(event) {
                data = event.data,
                    cmd = data[0] >> 4,
                    channel = data[0] & 0xf,
                    type = data[0] & 0xf0,
                    note = data[1],
                    velocity = data[2];
                log('MIDI data', data);
                switch (type) {
                    case 144:
                        noteOn(note, velocity);
                        break;
                    case 128:
                        noteOff(note, velocity);
                        break;
                }
            }
            function onStateChange(event) {
                showMIDIPorts(midi);
                var port = event.port,
                    state = port.state,
                    name = port.name,
                    type = port.type;
                if (type == "input")
                    log("name", name, "port", port, "state", state);
            }
            function listInputs(inputs) {
                var input = inputs.value;
                log("Input port : [ type:'" + input.type + "' id: '" + input.id +
                    "' manufacturer: '" + input.manufacturer + "' name: '" + input.name +
                    "' version: '" + input.version + "']");
            }
            function noteOn(midiNote, velocity) {
                player(midiNote, velocity);
            }
            function noteOff(midiNote, velocity) {
                player(midiNote, velocity);
            }
            function player(note, velocity) {
                var sample = sampleMap['key' + note];
                if (sample) {
                    if (type == (0x80 & 0xf0) || velocity == 0) { //needs to be fixed for QuNexus, which always returns 144
                        btn[sample - 1].classList.remove('active');
                        return;
                    }
                    btn[sample - 1].classList.add('active');
                    btn[sample - 1].play(velocity);
                }
            }
            function onMIDIFailure(e) {
                log("No access to MIDI devices or your browser doesn't support WebMIDI API. Please use WebMIDIAPIShim " + e);
            }
            function showMIDIPorts(midiAccess) {
                var inputs = midiAccess.inputs,
                    outputs = midiAccess.outputs,
                    html;
                html = '<h4>MIDI Inputs:</h4><div class="info">';
                inputs.forEach(function(port) {
                    html += '<p>' + port.name + '<p>';
                    html += '<p class="small">connection: ' + port.connection + '</p>';
                    html += '<p class="small">state: ' + port.state + '</p>';
                    html += '<p class="small">manufacturer: ' + port.manufacturer + '</p>';
                    if (port.version) {
                        html += '<p class="small">version: ' + port.version + '</p>';
                    }
                });
                deviceInfoInputs.innerHTML = html + '</div>';
                html = '<h4>MIDI Outputs:</h4><div class="info">';
                outputs.forEach(function(port) {
                    html += '<p>' + port.name + '<br>';
                    html += '<p class="small">manufacturer: ' + port.manufacturer + '</p>';
                    if (port.version) {
                        html += '<p class="small">version: ' + port.version + '</p>';
                    }
                });
                deviceInfoOutputs.innerHTML = html + '</div>';
            }
            function loadAudio(object, url) {
                var request = new XMLHttpRequest();
                request.open('GET', url, true);
                request.responseType = 'arraybuffer';
                request.onload = function() {
                    context.decodeAudioData(request.response, function(buffer) {
                        object.buffer = buffer;
                    });
                }
                request.send();
            }
            function addAudioProperties(object) {
                object.name = object.id;
                object.source = object.dataset.sound;
                loadAudio(object, object.source);
                object.play = function(volume) {
                    var s = context.createBufferSource();
                    var g = context.createGain();
                    var v;
                    s.buffer = object.buffer;
                    s.playbackRate.value = 1;
                    if (volume) {
                        v = rangeMap(volume, 1, 127, 0.2, 0.2);
                        s.connect(g);
                        g.gain.value = v;
                        g.connect(context.destination);
                    } else {
                        s.connect(context.destination);
                    }
                    s.start();
                    object.s = s;
                }
            }
            function rangeMap(x, a1, a2, b1, b2) {
                return ((x - a1) / (a2 - a1)) * (b2 - b1) + b1;
            }
        })();
        
    
    </script>
</body>

</html>
